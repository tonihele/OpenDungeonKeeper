<?xml version="1.0" encoding="UTF-8"?>
<nifty xmlns="http://nifty-gui.lessvoid.com/nifty-gui" xmlns:xsi="http://www.w3.org/2001/XMLSchema">
    <useStyles filename="nifty-default-styles.xml" />
    <useStyles filename="Interface/DropDownStyle.xml" />
    <useStyles filename="Interface/ScrollbarStyle.xml" />
    <useStyles filename="Interface/ScrollpanelStyle.xml" />
    <useStyles filename="Interface/SliderStyle.xml" />
    <useStyles filename="Interface/CheckBoxStyle.xml" />
    <useStyles filename="Interface/TextFieldStyle.xml" />
    <useStyles filename="Interface/ChatStyle.xml" />
    <useControls filename="nifty-default-controls.xml" />
    <useControls filename="Interface/MyControls.xml" />
    <useControls filename="Interface/CreditsControl.xml" />

    <style id="text">
        <attributes font="Interface/Fonts/Frontend14.fnt" color="#bbbcbb" />
    </style>
    <style id="menuTextSmall">
        <attributes font="Interface/Fonts/Frontend20.fnt" color="#bbbcbb" />
    </style>
    <style id="menuText">
        <attributes font="Interface/Fonts/Frontend28.fnt" color="#bbbcbb" />
        <effect>
            <onHover name="textColorAnimated" start="#bbbcbb" end="#ffffff" />
            <onClick neverStopRendering="true" name="playSound" sound="menuClick"/>
        </effect>
    </style>
    <style id="menuTextDisabled">
        <attributes font="Interface/Fonts/Frontend28.fnt" color="#bbbcbb" />
    </style>
    <style id="menuTitleText">
        <attributes font="Interface/Fonts/Frontend36.fnt" color="#ff5f00" />
    </style>

    <style id="menuSubTitleText">
        <attributes font="Interface/Fonts/Frontend20.fnt" color="#ffdd33" />
    </style>

    <style id="nifty-hiscore-head#text">
        <attributes font="Interface/Fonts/Frontend20.fnt" color="#ff5f00" />
    </style>
    <style id="nifty-hiscore-row#text">
        <attributes font="Interface/Fonts/Frontend20.fnt" color="#bbbcbb" />
    </style>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- empty screen -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="empty" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer />
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- start screen -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="start" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel height="20%" childLayout="center" valign="center" align="center">
                <image filename="Textures/Logo.png" align="center" />
            </panel>

            <panel childLayout="center" height="*" align="center" valign="center">
                <panel childLayout="vertical" align="center" valign="center" visibleToMouse="true">
                    <text style="menuText" text="${menu.71}" align="center">
                        <interact onClick="goToScreen(singlePlayer)" />
                    </text>
                    <text style="menuText" text="${menu.72}" align="center">
                        <interact onClick="doTransition(271,multiplayer,273)" />
                    </text>
                    <text style="menuText" text="${menu.1675}" align="center">
                        <interact onClick="doTransition(262,myPetDungeon,264)" />
                    </text>

                    <text style="text" text="" align="center" /><!-- empty string -->

                    <text style="menuText" text="${menu.94}" align="center">
                        <interact onClick="doTransition(256,optionsMain,258)" />
                    </text>
                    <text style="menuText" text="${menu.73}" align="center">
                        <interact onClick="doTransition(259,extras,261)" />
                    </text>

                    <text style="text" text="" align="center" /><!-- empty string -->

                    <text style="menuText" text="${menu.28}" align="center">
                        <interact onClick="goToScreen(quitGame)" />
                    </text>
                </panel>
            </panel>

            <panel align="right" valign="bottom" childLayout="vertical" paddingRight="10px">
                <text style="text" text="*PRE-ALPHA*" align="center"/>
                <text style="text" text="Open Source Edition" align="center"/>
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- single player game -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="singlePlayer" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel height="14%" childLayout="center" align="center" valign="center">
                <text style="menuTitleText" text="${menu.71}" align="center" />
            </panel>

            <panel childLayout="center" height="*" align="center" valign="center">
                <panel childLayout="vertical" align="center" valign="center" visibleToMouse="true">
                    <text id="newCampaign" style="menuText" text="${menu.140}" align="center" />
                    <text style="menuText" text="${menu.2059}" align="center">
                        <interact onClick="doTransition(251,selectCampaignLevel,null)" />
                    </text>

                    <text style="text" text="" align="center" /><!-- empty string -->

                    <text style="menuText" text="${menu.141}" align="center">
                        <interact onClick="startSkirmish()" />
                    </text>
                    <text id="loadGame" style="menuText" text="${menu.145}" align="center" />
                </panel>
            </panel>
            <panel childLayout="horizontal" align="right" valign="bottom">
                <control click="goToScreen(start)" name="cancelButton" marginRight="48px" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- quit game -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="quitGame" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel height="14%" childLayout="center" align="center" valign="center">
                <text style="menuTitleText" text="${menu.28}" align="center" />
            </panel>
            <panel height="*" align="center" valign="center" childLayout="center" visibleToMouse="true">
                <text id="quitText" style="menuText" text="${menu.15}" align="center"/>
            </panel>
            <panel childLayout="horizontal" align="right" valign="bottom">
                <control name="cancelButton" click="goToScreen(start)" />
                <control name="okButton" click="quitToOS()" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- Campaign map, level selection -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="selectCampaignLevel" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel height="*" />
            <panel childLayout="horizontal" align="right" valign="bottom">
                <control name="cancelButton" click="doTransition(252,singlePlayer,274)" marginRight="48px" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- Campaign level briefing -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="briefing" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" align="center" valign="center" height="14%">
                <text style="menuTitleText" text="${menu.1476}" align="center" />
            </panel>

            <panel childLayout="center" align="center" valign="center">
                <control name="label" id="levelTitle" style="menuSubTitleText" align="center" />
            </panel>

            <panel height="26px" />
            <!--Main objectives-->
            <panel childLayout="horizontal" id="mainObjectivePanel" width="100%" align="center" valign="center">
                <panel childLayout="center" width="160px" align="center" valign="center">
                    <image align="center" valign="top" id="mainObjectiveImage" width="144px" />
                </panel>
                <panel childLayout="vertical" width="*" align="left" valign="top">
                    <panel childLayout="vertical" backgroundColor="#f508" width="100%" >
                        <text align="left" margin="0,8px" id="mainObjectivesTitle" style="menuSubTitleText" text="${menu.1408}" />
                    </panel>
                    <panel childLayout="vertical" backgroundColor="#0008" marginTop="4px">
                        <control name="label" style="menuTextSmall" margin="0,8px" id="mainObjective"
                                 textHAlign="left" textVAlign="top" wrap="true" />
                    </panel>
                </panel>
            </panel>

            <panel height="10px" />
            <!--Subobjectives-->
            <panel childLayout="horizontal" id="subObjectivePanel" width="100%" align="center" valign="center">
                <panel childLayout="center" width="160px" align="center" valign="center">
                    <image align="center" valign="top" id="subObjectiveImage" width="144px"/>
                </panel>
                <panel childLayout="vertical" width="*" align="left" valign="top">
                    <panel childLayout="vertical" width="100%" backgroundColor="#f508" >
                        <text align="left" margin="0,8px" id="subObjectivesTitle" style="menuSubTitleText" text="${menu.1409}" />
                    </panel>
                    <panel childLayout="vertical" backgroundColor="#0008" marginTop="4px">
                        <control name="label" style="menuTextSmall" id="subObjective1"  margin="0,8px"
                                 textHAlign="left" wrap="true" />
                        <control name="label" style="menuTextSmall" id="subObjective2"  margin="0,8px"
                                 textHAlign="left" wrap="true" />
                        <control name="label" style="menuTextSmall" id="subObjective3"  margin="0,8px"
                                 textHAlign="left" wrap="true" />
                    </panel>
                </panel>
            </panel>

            <panel height="*" />

            <panel childLayout="horizontal" align="right" valign="bottom">
                <control name="cancelButton" click="cancelLevelSelect()" />
                <control name="okButton" click="startLevel(campaign)" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- Campaign level debriefing -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="debriefing" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" align="center" valign="center" height="14%">
                <text style="menuTitleText" text="${menu.1478}" align="center" />
            </panel>

            <panel childLayout="center" align="center" valign="center">
                <control name="label" id="dLevelTitle" style="menuSubTitleText" align="center" />
            </panel>

            <panel height="26px" />
            <!--Main objectives-->
            <panel childLayout="horizontal" width="100%" align="center" valign="center">
                <panel childLayout="center" width="160px" align="center" valign="center">
                    <image align="center" valign="top" id="dMainObjectiveImage" width="144px" />
                </panel>
                <panel childLayout="vertical" width="*" align="left" valign="top">
                    <panel childLayout="vertical" backgroundColor="#f508" width="100%" paddingLeft="10px" >
                        <text text="${menu.2898}" style="menuSubTitleText" align="left" />
                    </panel>
                    <panel childLayout="horizontal" backgroundColor="#0008" marginTop="4px">
                        <panel childLayout="vertical" width="70%" paddingLeft="10px">
                            <text text="${menu.1641}" align="left" style="menuTextSmall" />
                            <text text="${menu.1637}" align="left" style="menuTextSmall" />
                            <text text="${menu.1638}" align="left" style="menuTextSmall" />
                        </panel>
                        <panel childLayout="vertical" width="*">
                            <control name="label" id="totalEvilRating" text="?" style="menuTextSmall"
                                     textHAlign="left" textVAlign="top" />
                            <control name="label" id="overallTotalEvilRating" text="?" style="menuTextSmall"
                                     textHAlign="left" textVAlign="top" />
                            <control name="label" id="specialsFound" text="?/?" style="menuTextSmall"
                                     textHAlign="left" textVAlign="top" />
                        </panel>
                    </panel>
                </panel>
            </panel>

            <panel height="10px" />
            <!--Subobjectives-->
            <panel childLayout="horizontal" width="100%" align="center" valign="center">
                <panel childLayout="center" width="160px" align="center" valign="center">
                    <image align="center" valign="top" id="dSubObjectiveImage" width="144px"/>
                </panel>
                <panel childLayout="overlay" width="*" align="left" valign="top" backgroundColor="#f508">
                    <control name="scrollPanel" horizontal="false" stepSizeY="30">
                        <!-- TODO maybe use Table ? -->
                        <panel childLayout="horizontal" width="100%">
                            <panel childLayout="vertical" width="70%" paddingLeft="10px">
                                <text text="${menu.1516}" align="left" style="menuTextSmall" />
                                <text text="${menu.1410}" align="left" style="menuTextSmall" /> <!-- or 987 -->
                                <text text="${menu.1413}" align="left" style="menuTextSmall" /> <!-- or 988 -->
                                <text text="${menu.1509}" align="left" style="menuTextSmall" />
                                <text text="${menu.1510}" align="left" style="menuTextSmall" />
                                <text text="${menu.1511}" align="left" style="menuTextSmall" />
                                <text text="${menu.1411}" align="left" style="menuTextSmall" /> <!-- or 994 -->
                                <text text="${menu.1512}" align="left" style="menuTextSmall" />
                                <text text="${menu.1513}" align="left" style="menuTextSmall" />
                                <text text="${menu.1514}" align="left" style="menuTextSmall" />
                                <text text="${menu.1429}" align="left" style="menuTextSmall" /> <!-- or 1002 -->
                                <text text="${menu.1515}" align="left" style="menuTextSmall" />
                                <text text="${menu.1636}" align="left" style="menuTextSmall" />
                            </panel>
                            <panel childLayout="vertical" width="*" paddingRight="30px">
                                <control name="label" id="levelWon" text="?" style="menuSubTitleText"
                                         textHAlign="right" textVAlign="center" width="100%" />
                                <control name="label" id="timeTaken" text="?" style="menuSubTitleText"
                                         textHAlign="right" textVAlign="center" width="100%" />
                                <control name="label" id="enemyCreaturesKilled" text="?" style="menuSubTitleText"
                                         textHAlign="right" textVAlign="center" width="100%" />
                                <control name="label" id="heroesDestroyed" text="?" style="menuSubTitleText"
                                         textHAlign="right" textVAlign="center" width="100%" />
                                <control name="label" id="roomsCaptured" text="?" style="menuSubTitleText"
                                         textHAlign="right" textVAlign="center" width="100%" />
                                <control name="label" id="landOwned" text="?" style="menuSubTitleText"
                                         textHAlign="right" textVAlign="center" width="100%" />
                                <control name="label" id="GoldMined" text="?" style="menuSubTitleText"
                                         textHAlign="right" textVAlign="center" width="100%" />
                                <control name="label" id="ManaStored" text="?" style="menuSubTitleText"
                                         textHAlign="right" textVAlign="center" width="100%" />
                                <control name="label" id="itemsManufactured" text="?" style="menuSubTitleText"
                                         textHAlign="right" textVAlign="center" width="100%" />
                                <control name="label" id="creaturesCommanded" text="?" style="menuSubTitleText"
                                         textHAlign="right" textVAlign="center" width="100%" />
                                <control name="label" id="creaturesConverted" text="?" style="menuSubTitleText"
                                         textHAlign="right" textVAlign="center" width="100%" />
                                <control name="label" id="creatureTraning" text="?" style="menuSubTitleText"
                                         textHAlign="right" textVAlign="center" width="100%" />
                                <control name="label" id="AttemptsAtLevel" text="?" style="menuSubTitleText"
                                         textHAlign="right" textVAlign="center" width="100%" />
                            </panel>
                        </panel>
                    </control>
                </panel>
            </panel>

            <panel height="*" />

            <panel childLayout="horizontal" align="right" valign="bottom">
                <control name="okButton" click="cancelLevelSelect()" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- Options, main selection -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="optionsMain" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" height="14%" align="center" valign="center">
                <text style="menuTitleText" text="${menu.94}" align="center" />
            </panel>

            <panel childLayout="center" height="*" align="center" valign="center">
                <panel childLayout="vertical" align="center" valign="center">
                    <text style="menuText" text="${menu.96}" align="center">
                        <interact onClick="goToScreen(optionsGraphics)" />
                    </text>
                    <text style="menuText" text="${menu.95}" align="center" >
                        <interact onClick="goToScreen(optionsSound)" />
                    </text>
                    <text style="menuText" text="${menu.98}" align="center" >
                        <interact onClick="goToScreen(optionsControl)" />
                    </text>
                </panel>
            </panel>

            <panel childLayout="horizontal" align="right" valign="bottom">
                <control name="okButton" click="doTransition(257,start,274)" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- Graphic options -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="optionsGraphics" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" height="14%" align="center" valign="center">
                <text style="menuTitleText" text="${menu.96}" align="center" />
            </panel>

            <panel childLayout="horizontal" height="*" valign="center" align="center">
                <!--Left side options panel-->
                <panel childLayout="vertical" align="left" valign="top" padding="10px">
                    <panel childLayout="vertical" padding="10px">
                        <text style="menuTextSmall" text="${menu.134}: " />
                        <control width="250px" name="dropDown" id="resolution" />
                    </panel>
                    <panel childLayout="horizontal" padding="10px">
                        <control name="checkbox" id="fullscreen" />
                        <text style="menuTextSmall" text=" Fullscreen" />
                    </panel>
                    <panel childLayout="vertical" padding="10px">
                        <text style="menuTextSmall" text="Antialiasing: " />
                        <control width="100px" name="dropDown" id="antialiasing" />
                    </panel>
                    <panel childLayout="vertical" padding="10px">
                        <text style="menuTextSmall" text="OpenGL: " />
                        <control width="250px" name="dropDown" id="openGl" />
                    </panel>
                    <panel childLayout="horizontal" padding="10px">
                        <control name="checkbox" id="ssao" />
                        <text style="menuTextSmall" text=" SSAO" />
                    </panel>
                </panel>
                <!--Right side options panel-->
                <panel childLayout="vertical" align="right" valign="top" padding="10px">
                    <panel childLayout="vertical" padding="10px">
                        <text style="menuTextSmall" text="Refresh rate: " />
                        <control width="100px" name="dropDown" id="refreshRate" />
                    </panel>
                    <panel childLayout="horizontal" padding="10px">
                        <control name="checkbox" id="verticalSync" />
                        <text style="menuTextSmall" text=" Vertical sync" />
                    </panel>
                    <panel childLayout="vertical" padding="10px">
                        <text style="menuTextSmall" text="Anisotropic filtering: " />
                        <control width="100px" name="dropDown" id="anisotropicFiltering" />
                    </panel>
                </panel>
            </panel>

            <panel childLayout="horizontal" align="right" valign="bottom">
                <control name="cancelButton" click="goToScreen(optionsMain)" />
                <control name="okButton" click="applyGraphicsSettings()" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- Sound Options -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="optionsSound" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" height="14%" align="center" valign="center">
                <text style="menuTitleText" text="${menu.95}" align="center" />
            </panel>

            <panel width="100%" height="*" childLayout="vertical" align="center" valign="center">
                <panel width="100%" height="*" childLayout="horizontal" align="center" valign="center">
                    <text style="menuTextSmall" text="${menu.1460}" width="33%" valign="center" />
                    <control name="horizontalSlider" id="masterVolume" min="0.0" max="1.0"
                             initial="1.0" stepSize="0.01" buttonStepSize="0.01" width="33%" valign="center" />
                    <panel width="*" height="*" childLayout="center" />
                </panel>
                <panel width="100%" height="*" childLayout="horizontal" align="center" valign="center">
                    <text style="menuTextSmall" text="${menu.1457}" width="33%" valign="center" />
                    <control name="horizontalSlider" id="voiceVolume" min="0" max="1.0"
                             initial="1.0" stepSize="0.01" buttonStepSize="0.01" width="33%" valign="center" />
                    <panel width="*" height="*" childLayout="center">
                        <control name="checkbox" id="voiceEnabled" />
                    </panel>
                </panel>
                <panel width="100%" height="*" childLayout="horizontal">
                    <text style="menuTextSmall" text="${menu.1459}" width="33%" valign="center" />
                    <control name="horizontalSlider" id="musicVolume" min="0.0" max="1.0"
                             initial="0.5" stepSize="0.01" buttonStepSize="0.01" width="33%" valign="center" />
                    <panel width="*" height="*" childLayout="center">
                        <control name="checkbox" id="musicEnabled" />
                    </panel>
                </panel>
                <panel width="100%" height="*" childLayout="horizontal" align="center" valign="center">
                    <text style="menuTextSmall" text="${menu.1458}" width="33%" valign="center" />
                    <control name="horizontalSlider" id="sfxVolume" min="0.0" max="1.0"
                             initial="0.5" stepSize="0.01" buttonStepSize="0.01" width="33%" valign="center" />
                    <panel width="*" height="*" childLayout="center">
                        <control name="checkbox" id="sfxEnabled" />
                    </panel>
                </panel>
                <!-- <panel width="100%" height="15%" childLayout="center" backgroundColor="#f508" /> -->
            </panel>

            <panel childLayout="horizontal" align="right" valign="bottom">
                <control name="cancelButton" click="goToScreen(optionsMain)" />
                <control name="okButton" click="applySoundSettings()" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- Control Options -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="optionsControl" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" height="14%" align="center" valign="center">
                <text style="menuTitleText" text="${menu.98}" align="center" />
            </panel>

            <panel width="90%" childLayout="vertical" align="center">

                <panel width="100%" height="100%" childLayout="vertical" align="center" valign="center">
                    <control id="keyboardSetup" name="table" vertical="on" displayItems="5" selection="Single"
                             colCount="2"
                             col0="${menu.2845};55;java.lang.String;#32050c30"
                             col1="${menu.2846};45;java.lang.String;#32050c30"
                    />
                </panel>

                <panel align="center" valign="center" childLayout="horizontal" padding="10px,10px">
                    <panel childLayout="vertical" align="center" width="50%" padding="0px,20px">
                        <text style="menuTextSmall" text="${menu.1466}" width="100%" />
                        <control id="mouseSensitivity" name="horizontalSlider" min="0.5" max="2"
                                 initial="0.7" stepSize="0.1" buttonStepSize="0.1"/>
                    </panel>
                    <panel childLayout="vertical" align="center" width="50%" padding="0px,20px">
                        <text style="menuTextSmall" text="${menu.1469}" width="100%" />
                        <control id="gameSpeed" name="horizontalSlider" min="0.25" max="4"
                                 initial="1.0" stepSize="0.25" buttonStepSize="0.25"/>
                    </panel>
                </panel>

                <panel align="center" valign="center" childLayout="horizontal" padding="10px,10px">
                    <panel childLayout="horizontal" align="center" valign="bottom" width="50%" padding="0px,20px">
                        <control name="checkbox" id="invertMouse" />
                        <text style="menuTextSmall" text=" ${menu.2840}" />
                    </panel>
                    <panel childLayout="vertical" align="center" width="50%" padding="0px,20px">
                        <text style="menuTextSmall" text="${menu.1468}" width="100%" />
                        <control id="scrollSpeed" name="horizontalSlider" min="0.25" max="4"
                                 initial="1.0" stepSize="0.25" buttonStepSize="0.25"/>
                    </panel>
                </panel>
            </panel>

            <panel height="*" />

            <panel childLayout="horizontal" align="right" valign="bottom">
                <control name="cancelButton" click="goToScreen(optionsMain)" />
                <control name="okButton" click="goToScreen(optionsMain)" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- Extras -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="extras" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" height="14%" align="center" valign="center">
                <text style="menuTitleText" text="${menu.73}" align="center" />
            </panel>

            <panel childLayout="vertical" height="25%" align="center" visibleToMouse="true">
                <text style="menuText" text="${menu.2802}" align="center">
                    <interact onClick="goToScreen(hiscores)" />
                </text>
                <text style="menuText" text="${menu.93}" align="center">
                    <interact onClick="goToScreen(movies)" />
                </text>
            </panel>

            <panel height="5%" />

            <panel childLayout="vertical" height="*" align="center" visibleToMouse="true">
                <text style="menuText" text="${menu.86}" align="center">
                    <interact onClick="playMovie(trailer)" />
                </text>

                <text style="menuText" text="${menu.372}" align="center">
                    <interact onClick="doTransition(265,credits,null)" />
                </text>
            </panel>

            <panel childLayout="vertical" align="right" valign="bottom">
                <control click="doTransition(260,start,274)" name="okButton" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- Top players -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="hiscores" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" height="14%" align="center" valign="center">
                <text style="menuTitleText" text="${menu.2802}" align="center"/>
            </panel>
            <!-- placeholder for hiscores -->
            <panel childLayout="vertical" id="hiscoreList" height="*" align="center" valign="center" width="90%" />

            <panel childLayout="vertical" align="right" valign="bottom">
                <control name="okButton" click="goToScreen(extras)" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- View Movies -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="movies" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" height="14%" align="center" valign="center">
                <text style="menuTitleText" text="${menu.93}" />
            </panel>

            <control id="moviePanel" name="scrollPanel" align="center" valign="center"
                     horizontal="false" height="*" width="80%" stepSizeY="30">
                <panel id="movieList" childLayout="vertical">
                    <!-- placeholder for movies -->
                </panel>
            </control>
            <panel childLayout="center" align="right" valign="bottom">
                <control name="okButton" click="goToScreen(extras)" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- Movie still locked message -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="cutsceneLocked" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel height="14%" />

            <panel width="100%" height="*" childLayout="center" align="center" valign="center">
                <text width="80%" style="menuText" align="center" text="${menu.2805}" wrap="true" />
            </panel>

            <panel childLayout="center" align="right" valign="bottom">
                <control name="okButton" click="goToScreen(movies)" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- Credits -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="credits" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" height="14%" align="center" valign="center">
                <text style="menuTitleText" text="${menu.372}" />
            </panel>
            <panel childClip="true" align="center" valign="center" childLayout="vertical" height="*" visibleToMouse="false">
                <control name="creditsPanel" width="80%" action="restartCredits()" />
            </panel>
            <panel childLayout="center" align="right" valign="bottom">
                <control name="okButton" click="doTransition(266,extras,261)" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- Multi player game -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="multiplayer" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" height="14%" align="center" valign="center">
                <text style="menuTitleText" text="${menu.149}" />
            </panel>

            <panel height="*" align="center" valign="center" childLayout="center" visibleToMouse="true">
                <panel childLayout="vertical" align="center" valign="center">
                    <text style="menuText" text="${menu.168}" align="center">
                        <interact onClick="goToScreen(multiplayerLocal)" />
                    </text>

                    <text style="menuText" text="${menu.2729}" align="center">
                        <interact onClick="goToScreen(multiplayerWatch)" />
                    </text>
                </panel>
            </panel>

            <panel childLayout="horizontal" align="right" valign="bottom">
                <control name="cancelButton" click="doTransition(272,start,274)" />
            </panel>
        </layer>
    </screen>

    <screen id="multiplayerLocal" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" height="14%" align="center" valign="center">
                <text style="menuTitleText" text="${menu.168}" />
            </panel>

            <panel height="*" align="center" valign="center" childLayout="vertical" visibleToMouse="true">
                <panel align="center" valign="center" childLayout="horizontal" width="100%">
                    <panel align="center" valign="center" childLayout="vertical" width="70%">
                        <text style="menuTitleText" text="${menu.157}" align="center" />
                        <control id="multiplayerGamesTable" name="table" vertical="optional" displayItems="8" selection="Single"
                                 colCount="4"
                                 col0="${menu.1393};34;java.lang.String;#32050c30"
                                 col1="${menu.194};33;java.lang.String;#32050c30"
                                 col2="${menu.533};11;java.lang.String;#00752430"
                                 col3=";11;java.lang.String;#00779e30">
                            <interact onClick="connectToServer()" />
                        </control>
                        <text style="menuTitleText" text="${menu.1557}" align="center" />
                    </panel>
                    <panel align="center" valign="top" childLayout="vertical">
                        <text style="menuTitleText" text="${menu.1688}" align="center" />
                        <control name="textfield" id="playerName" text="Player" maxLength="20" align="center" />
                        <text style="menuTitleText" text="${menu.1393}" align="center" />
                        <control name="textfield" id="gameName" text="OpenKeeper" maxLength="20" align="center" />
                        <text style="menuTitleText" text="${menu.236}" align="center" />
                        <control name="textfield" id="gamePort" text="7575" maxLength="20" align="center" />
                    </panel>
                </panel>
                <panel align="center" valign="bottom" childLayout="horizontal" width="100%" height="*">
                    <panel height="*" align="center" valign="bottom" childLayout="horizontal" width="70%">
                        <panel height="*" align="center" childLayout="center" width="50%">
                            <text style="menuText" text="${menu.216}">
                                <interact onClick="multiplayerRefresh()" />
                            </text>
                        </panel>
                        <panel height="*" align="center" childLayout="center" width="*">
                            <text style="menuText" text="${menu.1403}">
                                <interact onClick="multiplayerConnect()" />
                                <!--<interact onClick="goToScreen(multiplayerFavorites)" />-->
                            </text>
                        </panel>
                    </panel>
                    <panel height="*" align="center" valign="bottom" childLayout="center" width="*">
                        <text style="menuText" text="${menu.158}">
                            <interact onClick="multiplayerCreate()" />
                        </text>
                    </panel>
                </panel>
            </panel>

            <panel childLayout="horizontal" align="right" valign="bottom">
                <control name="cancelButton" click="goToScreen(multiplayer)" />
            </panel>
        </layer>
    </screen>

    <screen id="multiplayerWatch" controller="toniarts.openkeeper.game.state.MainMenuScreenController">

        <layer childLayout="vertical">
            <panel childLayout="center" height="14%" align="center" valign="center">
                <text style="menuTitleText" text="${menu.2729}" />
            </panel>

            <panel height="*" align="center" valign="center" childLayout="center" visibleToMouse="true">
                <panel align="center" childLayout="vertical" width="50%">
                    <panel align="center" childLayout="horizontal" >
                        <!-- TODO Need normal server connection -->
                        <text style="menuTitleText" text="Name" />
                        <control name="textfield" id="playerName" text="" maxLength="20" />
                    </panel>
                    <panel align="center" childLayout="horizontal">
                        <text style="menuTitleText" text="Address" />
                        <control name="textfield" id="hostAddress" text="" maxLength="20" />
                    </panel>
                    <panel align="right" childLayout="horizontal">
                        <text style="menuText" text="Connect">
                            <interact onClick="multiplayerConnect()" />
                        </text>
                    </panel>
                </panel>
            </panel>

            <panel childLayout="horizontal" align="right" valign="bottom">
                <control name="cancelButton" click="goToScreen(multiplayer)" />
            </panel>
        </layer>
    </screen>

    <!-- A popup that says connecting... -->
    <popup id="connectingLayer" childLayout="center" backgroundColor="#000a">
        <text style="menuTitleText" text="${menu.2070}" />
    </popup>

    <!-- Error message, TODO: beautify... -->
    <popup id="errorMessage" childLayout="center" backgroundColor="#000a">
        <panel childLayout="center" height="*" align="center" valign="center">
            <panel childLayout="vertical" align="center" valign="center" visibleToMouse="true">
                <control name="label" style="menuTitleText" id="title" text="" />
                <control name="label" id="message" style="menuTextSmall" />
                <control name="okButton" align="right" click="closeErrorMessage()" />
            </panel>
        </panel>
    </popup>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- Skirmish (& also MP with changes) level selection -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="skirmishLobby" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" height="14%" align="center" valign="center">
                <control name="label" style="menuTitleText" id="multiplayerTitle" text="" />
            </panel>

            <!--Two panels, left the game stuff, right the map selection stuff-->
            <panel width="95%" childLayout="horizontal" align="center" valign="center">
                <panel id="playersPanel" width="66%" childLayout="vertical" align="center" valign="top" paddingRight="5%">
                    <panel backgroundColor="#80808030" id="ipPanel" childLayout="horizontal" marginBottom="8px">
                        <control name="label" id="ip" style="menuTextSmall" />
                    </panel>
                    <!--Players table is dynamically added here -->
                </panel>
                <panel width="*" childLayout="vertical" align="center" valign="top">
                    <panel backgroundColor="#f508" width="100%" childLayout="center" marginBottom="8px">
                        <control name="label" align="center" id="mapNameTitle" style="menuTextSmall" />
                    </panel>
                    <panel childLayout="horizontal" valign="center" align="center">
                        <text style="menuTextSmall" text="${menu.1492}" />
                        <control name="label" id="playerCount" style="menuTextSmall" />
                    </panel>
                    <image align="center" id="mapImage" />
                </panel>
            </panel>
            <!--Two panels, left the game stuff, right the map selection stuff-->
            <panel width="95%" childLayout="horizontal" align="center" valign="center" paddingTop="10px">

                <panel width="66%" childLayout="vertical" align="center" valign="center" paddingRight="5%">
                    <panel width="100%" childLayout="horizontal" id="multiplayerPlayerControl">
                        <panel width="50%" childLayout="vertical">
                            <text style="menuText" text="${menu.270}" align="left">
                                <interact onClick="kickPlayer()" />
                            </text>
                        </panel>
                        <panel width="50%" childLayout="vertical">
                            <text id="changeAi" style="menuText" text="${menu.2121}" align="right">
                                <interact onClick="changeAI()" />
                            </text>
                            <text style="menuText" text="${menu.1547}" align="right">
                                <interact onClick="addComputerPlayer()" />
                            </text>
                        </panel>
                    </panel>
                    <panel id="chatPanel" height="*" align="center" valign="bottom" childLayout="center" visibleToMouse="true">
                        <control id="multiplayerChat" name="chat" width="100%" height="100%" lines="5" />
                    </panel>
                </panel>
                <panel width="*" childLayout="vertical" align="center" valign="top" id="multiplayerMapControl">
                    <text style="menuText" text="${menu.1495}" align="center">
                        <interact onClick="goToScreen(skirmishMapSelect)" />
                    </text>
                    <text style="menuText" text="${menu.1496}" align="center">
                        <interact onClick="selectRandomMap()" />
                    </text>
                    <text style="menuText" text="${menu.2803}" align="center">
                        <!--<interact onClick="gameSettings()" />-->
                    </text>
                </panel>

            </panel>

            <panel height="*" />

            <panel childLayout="horizontal" align="right" valign="bottom">
                <control name="cancelButton" click="cancelMultiplayer()" />
                <control name="okButton" click="setPlayerReady()" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- MPD Main -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="myPetDungeon" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" height="14%" align="center" valign="center">
                <text style="menuTitleText" text="${menu.1675}" />
            </panel>

            <panel id="mpdList" height="*" align="center" valign="center" childLayout="vertical">
                <text id="mpd1" style="menuText" text="${mpd1.0}" align="center">
                    <interact onClick="selectMPDLevel(1)" />
                </text>
                <text id="mpd2" style="menuTextDisabled" text="${mpd2.0}" align="center"></text>
                <text id="mpd3" style="menuTextDisabled" text="${mpd3.0}" align="center"></text>
                <text id="mpd4" style="menuTextDisabled" text="${mpd4.0}" align="center"></text>
                <text id="mpd5" style="menuTextDisabled" text="${mpd5.0}" align="center"></text>
                <text id="mpd6" style="menuTextDisabled" text="${mpd6.0}" align="center"></text>
                <text id="mpdOther" style="menuText" text="${menu.1618}" align="center">
                    <interact onClick="goToScreen(myPetDungeonMapSelect)" />
                </text>
            </panel>

            <panel childLayout="horizontal" align="right" valign="bottom">
                <control name="cancelButton" click="doTransition(263,start,274)" />
                <text style="menuText" text="" width="48px" margin="5px" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- MPD Map Selection -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="myPetDungeonMapSelect" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" height="14%" align="center" valign="center">
                <text style="menuTitleText" text="${menu.1675}" />
            </panel>

            <panel id="mpdPanel" width="95%" childLayout="horizontal" align="center" valign="center">
                <panel id="mapsPanel" childLayout="vertical" align="center" valign="top">
                    <control id="mapsTable" name="table" vertical="on" displayItems="15"
                             selection="Single" forceSelection="false" colCount="3"
                             col0="${menu.1544};50;java.lang.String;#32050c30"
                             col1="${menu.2960};25;java.lang.String;#32050c30"
                             col2="${menu.1545};25;java.lang.String;#00752430"
                    />
                </panel>
            </panel>

            <panel height="*" />

            <panel childLayout="horizontal" align="right" valign="bottom">
                <control name="cancelButton" click="goToScreen(myPetDungeon)" />
                <text style="menuText" text="" width="48px" margin="5px" />
            </panel>
        </layer>
    </screen>

    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <!-- Map selection -->
    <!-- +++++++++++++++++++++++++++++++++++++++ -->
    <screen id="skirmishMapSelect" controller="toniarts.openkeeper.game.state.MainMenuScreenController">
        <layer childLayout="vertical">
            <panel childLayout="center" height="14%" align="center" valign="center">
                <text style="menuTitleText" text="${menu.2800}" />
            </panel>
            <!--Two panels, left the game stuff, right the map selection stuff-->
            <panel id="skirmishPanel" width="95%" childLayout="horizontal" align="center" valign="center">

                <panel id="mapsPanel" width="66%" childLayout="vertical" align="center" valign="top" paddingRight="5%">
                    <control id="mapsTable" name="table" vertical="on" displayItems="8"
                             selection="Single" forceSelection="true" colCount="3"
                             col0="${menu.1544};50;java.lang.String;#32050c30"
                             col1="${menu.2960};25;java.lang.String;#32050c30"
                             col2="${menu.1545};25;java.lang.String;#00752430"
                    />
                </panel>
                <panel width="*" childLayout="vertical" align="center" valign="top">
                    <panel backgroundColor="#f508" width="100%" childLayout="center" marginBottom="8px">
                        <control name="label" align="center" id="mapNameTitle" style="menuTextSmall" />
                    </panel>
                    <panel childLayout="horizontal" valign="center" align="center">
                        <text style="menuTextSmall" text="${menu.1492}" />
                        <control name="label" id="playerCount" style="menuTextSmall" />
                    </panel>
                    <image id="mapImage" align="center" />
                    <control name="label" id="mapSize" style="menuTextSmall" align="center"/>
                </panel>
            </panel>

            <panel height="*" />

            <panel childLayout="horizontal" align="right" valign="bottom">
                <control name="cancelButton" click="cancelMapSelection()" />
                <control name="okButton" click="mapSelected()" />
            </panel>
        </layer>
    </screen>
</nifty>
